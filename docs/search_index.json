[["index.html", "Python Scratch Book Acknowledgement", " Python Scratch Book Davut Ayan 2023-11-29 Acknowledgement This is a personal notebook open for public use. I have collected these notes, codes and best practices that I find useful to remind myself on python programming language. All these content are free to use and share. "],["intro.html", "Chapter 1 Introduction 1.1 Types of objects in Python 1.2 Expressions: Mathematical Operations 1.3 Data Types 1.4 String Operations", " Chapter 1 Introduction Python Python is an object-oriented language. Python is what is called an interpreted language. Compiled languages examine your entire program at compile time, and are able to warn you about a whole class of errors prior to execution. In contrast, Python interprets your script line by line as it executes it. Python will stop executing the entire program when it encounters an error (unless the error is expected and handled by the programmer, a more advanced subject that we’ll cover later on in this course). Jupyter Lab to install on mac: pip3 install jupyterlab on terminal to upgrade pip: pip3 install --upgrade pip on terminal check python version !python -V # Check the Python Version import sys print(sys.version) ## 3.10.3 (v3.10.3:a342a49189, Mar 16 2022, 09:34:18) [Clang 13.0.0 (clang-1300.0.29.30)] [Tip:] sys is a built-in module that contains many system-specific parameters and functions, including the Python version in use. Before using it, we must explicitly import it. 1.1 Types of objects in Python There are many different types of objects in Python. Let’s start with the most common object types: strings, integers and floats. Anytime you write words (text) in Python, you’re using character strings (strings for short). The most common numbers, on the other hand, are integers (e.g. -1, 0, 100) and floats, which represent real numbers (e.g. 3.14, -42.0). Object Types integer = 10 float = 10.1 string = “Hello” boolean = True float to integer a = 10.123 type(a) ## &lt;class &#39;float&#39;&gt; b = int(a) b ## 10 type(b) ## &lt;class &#39;int&#39;&gt; numeric to string a_string = str(a) a_string ## &#39;10.123&#39; string to numeric float(&quot;1.1&quot;) ## 1.1 it does not transform directly to integer here int(&quot;1.123&quot;) but it works when transforming to float then integer. int(float(&quot;10.123&quot;)) boolean bl = True bl ## True type(bl) ## &lt;class &#39;bool&#39;&gt; boolean to numeric True becomes 1 int(bl) ## 1 numeric to boolean 0 becomes False all other numbers are True bool(-100) ## True bool(0) ## False 1.2 Expressions: Mathematical Operations 5 + 5 * 10 - 2 / 5 ## 54.6 integer division 11 // 2 ## 5 modulo: remainder 10 % 3 ## 1 1.3 Data Types In Python, there are different data types: string, integer, and float. Different data types can be contained in a tuple. 1.3.1 1. tuples Tuples are an ordered sequences of items, just like lists. The main difference between tuples and lists is that tuples cannot be changed (immutable) unlike lists which can (mutable). tuples are collection of different type of objects. – empty tuples a = () b = tuple() ## 1. way a_tuple = (1, 2.5, &quot;string&quot;, [3, 4]) b = (1,) concatenate tuples b_tuple = (&quot;a&quot;, &quot;ab&quot;) a_tuple + b_tuple ## (1, 2.5, &#39;string&#39;, [3, 4], &#39;a&#39;, &#39;ab&#39;) slicing a_tuple[:2] ## (1, 2.5) immutable element of a tuple can not be changed a_tuple = (1,2,3,4,5) a_tuple[5] = &quot;a&quot; # TypeError: &#39;tuple&#39; object does not support item assignment sorted function sorted() function: We can sort the tuple and assign a new name sorted() function returns list type. a_tuple = (1, 5, 2, 7, 4) type(sorted(a_tuple)) ## &lt;class &#39;list&#39;&gt; Nesting we can create nested tuples. nested = (1, 2, (&quot;a&quot;, &quot;b&quot;, &quot;c&quot;), (&quot;ayan&quot;, (4, 5))) nested[2] ## (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;) 1.3.1.1 tuple methods index method The index method returns the first index at which a value occurs. a = (&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;) a.index(&quot;b&quot;) ## 1 count method The count method returns the number of times a value occurs in a tuple. a = (&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;) a.count(&quot;b&quot;) ## 2 loop thru a tuple a = (&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;) for item in a: print(item) ## a ## b ## c ## d ## a ## b ## c ## d 1.3.2 2. lists A list is a sequenced collection of different objects such as integers, strings, and even other lists as well. The address of each element within a list is called an index. An index is used to access and refer to items within a list. Lists can contain strings, floats, and integers. We can nest other lists, and we can also nest tuples and other data structures. The same indexing conventions apply for nesting: list are like tuples, ordered sequences. But lists are mutable. 1.4 String Operations -string object are in single quote or double quote 1.4.1 Indices Positive Index In python indices start with 0 In R indices start with 1 Negative Index -1 corresponds to the last element myname = &quot;Davut Emrah Ayan&quot; print(&quot;Object myname:&quot;, myname) ## Object myname: Davut Emrah Ayan # examples print(myname[0], &#39;is the first element of myname object&#39;) ## D is the first element of myname object print(myname[6], &#39;is the 6th element of myname object&#39;) ## E is the 6th element of myname object print(myname[-1], &#39;is the last element of myname object&#39;) ## n is the last element of myname object 1.4.2 Slicing Full version syntax: string_object[from : to : increment] print(&quot;Object:&quot;, myname) ## Object: Davut Emrah Ayan print(&quot;From 0 index to 5th index, by 1, is&quot;, myname[0:5:1]) ## From 0 index to 5th index, by 1, is Davut Short version print(&quot;Object myname:&quot;, myname) ## Object myname: Davut Emrah Ayan print(myname[0:5], &quot;is the first 5 element of the object&quot;) ## Davut is the first 5 element of the object Shorter version Numeric string is easier to see. num = &quot;0123456789&quot; print(num[::2], &quot;every 2 other element&quot;) ## 02468 every 2 other element print(num[::3], &quot;every 3 other element&quot;) ## 0369 every 3 other element print(num[::4], &quot;every 4 other element&quot;) ## 048 every 4 other element print(num[::5], &quot;every 5 other element&quot;) ## 05 every 5 other element Length of an object : len() it is character length or element length len(myname) ## 16 1.4.3 Concatenate statement = &quot;KU&quot; + &quot; is the best!&quot; statement ## &#39;KU is the best!&#39; myname[0:5] + &quot; is the best!&quot; ## &#39;Davut is the best!&#39; Multiplication with strings myname[0:6] * 3 ## &#39;Davut Davut Davut &#39; 1.4.4 Escape \\n : new line \\t : tab space Backward slash ’' is used to escape characters # new line print(&quot;Life \\nIs \\nGood!&quot;) ## Life ## Is ## Good! # tab space print(&quot;Life\\tIs\\tGood!&quot;) ## Life Is Good! raw string print( r&quot;Life is good!&quot; ) ## Life is good! 1.4.5 Immutable string objects are immutable, so you can change its any part by indexing any_string = &quot;Life is good!&quot; any_string[5:7] = &quot;was&quot; # TypeError: &#39;str&#39; object does not support item assignment 1.4.6 loop thru strings my_txt = &quot;life is good!&quot; for i in my_txt: print(i) ## l ## i ## f ## e ## ## i ## s ## ## g ## o ## o ## d ## ! my_txt = &quot;life is good!&quot; for i in range(len(my_txt)): print(i) ## 0 ## 1 ## 2 ## 3 ## 4 ## 5 ## 6 ## 7 ## 8 ## 9 ## 10 ## 11 ## 12 1.4.7 in/not in check if a phrase is present in a string my_txt = &quot;life is good!&quot; print(&quot;good&quot; in my_txt) ## True if &quot;good&quot; in my_txt: print(my_txt) ## life is good! if &quot;bad&quot; not in my_txt: print(&quot;&#39;bad&#39; is not in the text&quot;) ## &#39;bad&#39; is not in the text 1.4.8 Useful Methods used with strings uppercase/lowercase upper() : strings to uppercase lower() capitalize() &quot;Ohh! my life!&quot;.upper() ## &#39;OHH! MY LIFE!&#39; &quot;OHH! MY LIFE!&quot;.lower() ## &#39;ohh! my life!&#39; &quot;star&quot;.capitalize() ## &#39;Star&#39; &quot;is it lowercase&quot;.islower() ## True &quot;IS IT UPPERCASE&quot;.isupper() ## True replace method replace(): to replace part of a string syntax: string.replace(oldvalue, newvalue, count) #example query = &#39;&#39;&#39; select all_columns from my_table&#39;&#39;&#39; new_query = query.replace(&quot;my_table&quot;, &quot;new_table_name&quot;) print(new_query) ## ## select all_columns ## from new_table_name strip method strip() method removes leading or trailing white-space raw_text = &quot; my text &quot; raw_text.strip() ## &#39;my text&#39; split method split() method breaks a string by specified character. split() method returns list type. raw_text = &quot;banana, apple, cherry&quot; alist = raw_text.split(&quot;,&quot;) alist ## [&#39;banana&#39;, &#39; apple&#39;, &#39; cherry&#39;] there are some whitespce in the splitted elements in the list alist[1].strip() ## &#39;apple&#39; "],["pandas-library.html", "Chapter 2 Pandas Library 2.1 data creation 2.2 read data 2.3 Explore Data", " Chapter 2 Pandas Library run pip3 install pandas or run !pip install pandas on rstudio terminal or mac terminal or jupyter notebook import pandas as pd pd.set_option(&#39;display.max_columns&#39;, None) 2.1 data creation Sometimes you may need to create an data frame ## empty data frame df1 = pd.DataFrame() df1 ## Empty DataFrame ## Columns: [] ## Index: [] df2 = pd.DataFrame({&#39;A&#39; : []}) df2 ## Empty DataFrame ## Columns: [A] ## Index: [] Is df2 empty? There is column name but it is still empty. df2.empty ## True How to create a sample data frame? df3 = pd.DataFrame({&#39;var1&#39;: [1,2,3,4], &#39;var2&#39;: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]}) df3 ## var1 var2 ## 0 1 a ## 1 2 b ## 2 3 c ## 3 4 d 2.1.1 columns 2.1.1.1 column names How to get the column names? –&gt; Column names are stored in columns attribute. my_cols = df3.columns my_cols ## Index([&#39;var1&#39;, &#39;var2&#39;], dtype=&#39;object&#39;) iterating the columns for i in df3.columns: print(i) ## var1 ## var2 we can put them in a list list(df3.columns) ## [&#39;var1&#39;, &#39;var2&#39;] calling keys() function: output is similar to columns attributes df3.keys() ## Index([&#39;var1&#39;, &#39;var2&#39;], dtype=&#39;object&#39;) column.values method returns an array of index. list(df3.columns.values) ## [&#39;var1&#39;, &#39;var2&#39;] Using tolist() method with values with given the list of columns. list(df3.columns.values.tolist()) ## [&#39;var1&#39;, &#39;var2&#39;] Using sorted() method : sorted() method will return the list of columns sorted in alphabetical order. sorted(df3) ## [&#39;var1&#39;, &#39;var2&#39;] 2.1.1.2 rename Renaming column names is a standard procedure most of the time. We may need to standardize column names, mostly make them clean. There is a nice link here. Lets create a sample data frame df = pd.DataFrame({&#39;A?la&#39;: [1,2,3,4], &#39;PYTHON&#39;: [&#39;a&#39;, &#39;a&#39;, &#39;a&#39;, &#39;a&#39;], &#39;col 3&#39;: [&#39;1&#39;,&#39;1&#39;,&#39;b&#39;,&#39;b&#39;]}) df ## A?la PYTHON col 3 ## 0 1 a 1 ## 1 2 a 1 ## 2 3 a b ## 3 4 a b Method 1: Rename Specific Columns df.rename(columns = {&#39;PYTHON&#39;:&#39;Python&#39;}, inplace = False) ## A?la Python col 3 ## 0 1 a 1 ## 1 2 a 1 ## 2 3 a b ## 3 4 a b ### list column names list(df) ## [&#39;A?la&#39;, &#39;PYTHON&#39;, &#39;col 3&#39;] Method 2: Rename All Columns new_names = [&#39;new_name1&#39;, &#39;new_name2&#39;,&#39;new_name3&#39;] df.columns = new_names list(df) ## [&#39;new_name1&#39;, &#39;new_name2&#39;, &#39;new_name3&#39;] Method 3: Replace Specific Characters in Columns ### set problematic names problem_names = [&#39;VAR1$$$&#39;, &#39;var2&#39;,&#39;Var3###&#39;] df.columns = problem_names ### removing bad characters df.columns = df.columns.str.replace(&#39;$&#39;, &#39;&#39;, regex = True) df.columns = df.columns.str.replace(&#39;#&#39;, &#39;&#39;, regex = True) list(df) ## [&#39;VAR1&#39;, &#39;var2&#39;, &#39;Var3&#39;] clean column names Generally we expect clean columns to be: 1. short 2. meaningful 3. no space 4. no special character 5. probably lowercase ### set problematic names problem_names = [&#39;VAR $1&#39;, &#39;var #2&#39;,&#39;Var ? 3 &#39;] df.columns = problem_names ## Column names: remove white spaces and convert to lower case df.columns= df.columns.str.strip() ## Column names: convert to lower case df.columns = df.columns.str.lower() ## Column names: convert to lower case df = df.rename(columns = str.lower) ## removing bad characters df.columns = df.columns.str.replace(&#39;$&#39;, &#39;&#39;, regex = True) df.columns = df.columns.str.replace(&#39;#&#39;, &#39;&#39;, regex = True) df.columns = df.columns.str.replace(&#39;?&#39;, &#39;&#39;, regex = True) df.columns = df.columns.str.replace(&#39; &#39;, &#39;&#39;, regex = True) list(df) ## [&#39;var1&#39;, &#39;var2&#39;, &#39;var3&#39;] sometimes we need them to be uppercase ## Column names: convert to upper case df.columns = df.columns.str.upper() list(df) ## [&#39;VAR1&#39;, &#39;VAR2&#39;, &#39;VAR3&#39;] 2.2 read data 2.2.1 csv file IBM sample data: I could not run with “https” because I did not have a certificate installed. So, I go on with “http” and it worked. data_link = &quot;http://s3-api.us-geo.objectstorage.softlayer.net/cf-courses-data/CognitiveClass/DS0103EN/labs/data/recipes.csv&quot; recipes = pd.read_csv(data_link) 2.2.2 xlsx file pandas.read_excel(io = path, sheet_name = 0, header = 0, names = None, index_col = None, usecols = None) This returns dataframe object. df = pd.read_excel(io = &quot;./data/segmentation.xlsx&quot;, sheet_name = &quot;sheet&quot;) df.head(n=5) ## respondent_id variety_of_choice electronics furniture \\ ## 0 1 8 6 6 ## 1 2 6 3 1 ## 2 3 6 1 2 ## 3 4 8 3 3 ## 4 5 4 6 3 ## ## quality_of_service low_prices return_policy professional income age ## 0 3 2 2 1 40 45 ## 1 4 7 8 0 20 41 ## 2 4 9 6 0 20 31 ## 3 4 8 7 1 30 37 ## 4 9 2 5 1 45 56 2.3 Explore Data #recipes.head() 2.3.1 Get the dimensions of the dataframe. #recipes.shape "],["random.html", "Chapter 3 RANDOM", " Chapter 3 RANDOM i = int(input(&quot;sayi gir = &quot;)) for x in range(i+1) : y = x*5 print(x,&quot;x&quot;,5,&quot;=&quot;,y) "],["applications.html", "Chapter 4 Applications 4.1 Example one 4.2 Example two", " Chapter 4 Applications Some significant applications are demonstrated in this chapter. 4.1 Example one 4.2 Example two 4.2.1 no different "],["final-words.html", "Chapter 5 Final Words", " Chapter 5 Final Words We have finished a nice book. "],["references.html", "References", " References "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
